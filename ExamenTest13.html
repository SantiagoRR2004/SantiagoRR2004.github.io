
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Examen</title>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@400;700&display=swap');
body {
font-family: 'Roboto', Arial, sans-serif;
background-color: #f9f9f9;
color: #333;
line-height: 1.6;
margin: 0;
padding: 20px;
}
.correct {
    color: #28a745; /* A brighter green for better visibility */
    font-weight: bold;
}
.incorrect {
    color: #dc3545; /* A brighter red for better visibility */
    font-weight: bold;
}
.question {
    margin-bottom: 20px;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.question p {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: bold;
    font-size: 20px;
    margin-bottom: 10px;
}
.question li {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: normal;
    font-size: 18px;
    list-style-type: none;
    margin: 5px 0;
    padding: 5px;
    border-radius: 3px;
    transition: background-color 0.3s ease;
}
.question li:hover {
    background-color: #f1f1f1; /* Highlight on hover */
}
input[type="checkbox"] {
    width: 17px;
    height: 17px;
    transform: scale(1.35);
    margin-right: 10px;
    cursor: pointer;
}
.correct-answer {
    display: none;
    font-weight: bold;
    font-size: 16px;
}
.answered {
    pointer-events: none;
}
#testForm {
    max-width: 800px;
    margin: 0 auto;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}
#submitButton {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}
#submitButton:hover {
    background-color: #0056b3;
}
#scoreDisplay {
    margin-top: 20px;
    font-size: 18px;
    font-weight: bold;
    text-align: center;
}     
        </style>
    </head>
    <body>
        <form id="testForm" onsubmit="return submitForm()">
    
            <div class="multipleChoice question">
                <p>1: In the context of IoT-cloud integration, what is the key limitation that edge computing directly addresses? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_0" value="A"> A) Low cost of on-premises infrastructure.</li><li><input type="checkbox" name="question_0" value="B"> B) Lack of storage capacity in centralized data centers.</li><li><input type="checkbox" name="question_0" value="C"> C) Real-time response requirements in field applications.</li><li><input type="checkbox" name="question_0" value="D"> D) Security compliance in cloud-hosted applications.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: C</p>
                <input type="hidden" name="correct_0" value="C">
            </div>
            
            <div class="multipleChoice question">
                <p>2: A drone fleet uses multiple sensors to navigate, detect obstacles, and avoid crashes. Processing must be immediate to enable evasive maneuvers. What processing approach is most appropriate? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_1" value="A"> A) Fog computing with batch analytics.</li><li><input type="checkbox" name="question_1" value="B"> B) SQL-based long-term storage with predictive modeling.</li><li><input type="checkbox" name="question_1" value="C"> C) Cloud-based supervised classification models.</li><li><input type="checkbox" name="question_1" value="D"> D) Edge computing using Kalman filters.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: D</p>
                <input type="hidden" name="correct_1" value="D">
            </div>
            
            <div class="multipleChoice question">
                <p>3: In OpenFog architectures, what is the role of accelerator services? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_2" value="A"> A) Augmenting compute capacity using GPGPUs or FPGAs for vision and ML tasks.</li><li><input type="checkbox" name="question_2" value="B"> B) Ensuring real-time MQTT delivery to cloud VMs.</li><li><input type="checkbox" name="question_2" value="C"> C) Pre-loading firmware updates onto constrained devices.</li><li><input type="checkbox" name="question_2" value="D"> D) Providing modular upgrade paths for fog dashboards.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A</p>
                <input type="hidden" name="correct_2" value="A">
            </div>
            
            <div class="multipleChoice question">
                <p>4: You are designing an autonomous environmental monitoring system deployed in a remote region. Data should be processed and stored locally due to connectivity constraints. Which architectural and design choices are appropriate? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_3" value="A"> A) Apply fusion techniques to reduce redundant data transmission.</li><li><input type="checkbox" name="question_3" value="B"> B) Push all raw data to a central server for compliance logging.</li><li><input type="checkbox" name="question_3" value="C"> C) Store data in an in-memory NoSQL database on the edge.</li><li><input type="checkbox" name="question_3" value="D"> D) Use edge computing to combine sensing and processing.</li><li><input type="checkbox" name="question_3" value="E"> E) Perform local querying and only transmit alerts or aggregated summaries.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, C, D, E</p>
                <input type="hidden" name="correct_3" value="A, C, D, E">
            </div>
            
            <div class="multipleChoice question">
                <p>5: In supervised learning for IoT analytics, which of the following statements are true? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_4" value="A"> A) Naive Bayes uses feature ranking based on prior probabilities.</li><li><input type="checkbox" name="question_4" value="B"> B) Overfitting occurs when a model is too specialized to training data.</li><li><input type="checkbox" name="question_4" value="C"> C) Training a classifier requires labeled data.</li><li><input type="checkbox" name="question_4" value="D"> D) A classifier’s sensitivity measures how well it avoids false positives.</li><li><input type="checkbox" name="question_4" value="E"> E) Random forests are less interpretable than support vector machines.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, B, C</p>
                <input type="hidden" name="correct_4" value="A, B, C">
            </div>
            
            <div class="multipleChoice question">
                <p>6: A company is deploying IoT sensors in trucks to monitor engine temperature and geolocation in real time. Alerts must be issued if overheating is detected outside of predefined geofences. What architectural component is most critical for supporting such functionality? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_5" value="A"> A) Bloom filter.</li><li><input type="checkbox" name="question_5" value="B"> B) Rules engine with location-aware logic.</li><li><input type="checkbox" name="question_5" value="C"> C) SQL-based relational backend.</li><li><input type="checkbox" name="question_5" value="D"> D) Kalman filter.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B</p>
                <input type="hidden" name="correct_5" value="B">
            </div>
            
            <div class="multipleChoice question">
                <p>7: Which method provides absolute pressure readings regardless of environment? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_6" value="A"> A) Gauge pressure sensor.</li><li><input type="checkbox" name="question_6" value="B"> B) Sealed gauge pressure sensor.</li><li><input type="checkbox" name="question_6" value="C"> C) Absolute pressure sensor.</li><li><input type="checkbox" name="question_6" value="D"> D) Barometric sensor.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: C</p>
                <input type="hidden" name="correct_6" value="C">
            </div>
            
            <div class="multipleChoice question">
                <p>8: Which factors should influence the choice between an AVR and a PIC microcontroller for the same task? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_7" value="A"> A) Compatibility with general-purpose OSs.</li><li><input type="checkbox" name="question_7" value="B"> B) Cost per unit at scale.</li><li><input type="checkbox" name="question_7" value="C"> C) Preferred development toolchain.</li><li><input type="checkbox" name="question_7" value="D"> D) Number of UART interfaces.</li><li><input type="checkbox" name="question_7" value="E"> E) Instruction set performance.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B, C, D, E</p>
                <input type="hidden" name="correct_7" value="B, C, D, E">
            </div>
            
            <div class="multipleChoice question">
                <p>9: Which of the following statements about supervised learning in IoT are true? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_8" value="A"> A) Accuracy and sensitivity are both used to assess classification performance.</li><li><input type="checkbox" name="question_8" value="B"> B) It requires a labeled dataset for model training.</li><li><input type="checkbox" name="question_8" value="C"> C) Overfitting means the model generalizes well to unseen data.</li><li><input type="checkbox" name="question_8" value="D"> D) Naive Bayes, SVM, and Random Forests are examples of supervised learning algorithms.</li><li><input type="checkbox" name="question_8" value="E"> E) The model must be continuously retrained after each new input.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, B, D</p>
                <input type="hidden" name="correct_8" value="A, B, D">
            </div>
            
            <div class="multipleChoice question">
                <p>10: In a low-power, solar-powered environmental monitoring system with strict energy constraints, which microcontroller configuration is most appropriate? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_9" value="A"> A) A 32-bit ARM Cortex MCU with hardware-accelerated floating-point unit and 200 MHz clock.</li><li><input type="checkbox" name="question_9" value="B"> B) An 8-bit AVR microcontroller with sleep modes and disabled ADC during idle.</li><li><input type="checkbox" name="question_9" value="C"> C) A Raspberry Pi Zero used for sensor polling in periodic loops.</li><li><input type="checkbox" name="question_9" value="D"> D) A 16-bit RISC microcontroller running at 100% duty cycle.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B</p>
                <input type="hidden" name="correct_9" value="B">
            </div>
            
            <input id="submitButton" type="submit" value="Enviar respuestas">
        </form>
        <p id="scoreDisplay"></p>
    </body>
    </html>
    <script>
function submitForm() {
    var form = document.getElementById("testForm");
    form.elements["submitButton"].disabled = true;

    var correctGlobal = 0;
    var incorrectGlobal = 0;
    var unanswered = 0;
    var totalScore = 0;

    var questions = document.getElementsByClassName("singleChoice");

    for (var question of questions) {
        var score = singleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    var questions = document.getElementsByClassName("multipleChoice");

    for (var question of questions) {
        var score = multipleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    console.log("Score out of all questions: " + totalScore);
    console.log("Correct: " + correctGlobal);
    console.log("Incorrect: " + incorrectGlobal);
    console.log("Unanswered: " + unanswered);

    // We calculate the score out of 10
    totalScore = ((totalScore / (correctGlobal + incorrectGlobal + unanswered)) * 10).toFixed(2);

    console.log("Score out of 10: " + totalScore);

    var scoreDisplay = document.getElementById("scoreDisplay");
    scoreDisplay.innerHTML = "Preguntas acertadas: " + correctGlobal + "<br>Preguntas falladas: " + incorrectGlobal + "<br>Puntuación total: " + totalScore + "/10";

    return false;
}
function singleChoice(question) {
    var selectedInput = question.querySelector("input:checked");
    var correctAnswer = question.querySelector(".correct-answer");
    correctAnswer.style.display = "block";

    // We only count the ones with radio buttons
    var options = question.querySelectorAll("input[type=radio]");
    var numOptions = options.length;

    // Disable all radio buttons to prevent changing the answer
    options.forEach(input => input.disabled = true);

    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        correctAnswer.classList.add("correct");
    } else {
        correctAnswer.classList.add("incorrect");
    }

    // We log the number of the question and score

    // If it is correct we return 1
    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } //If there is no answer we return NaN
    else if (selectedInput === null) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } //If it is incorrect we return the penalty for random guessing
    else {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -1/" + (numOptions - 1));
        return -1/(numOptions - 1);
    }
}
function multipleChoice(question) {
    var selectedInputs = question.querySelectorAll("input:checked");

    // Get the correct answer element
    var correctAnswer = question.querySelector(".correct-answer");

    // Extract the correct answers from the hidden input field
    var correctAnswers = question.querySelector("input[name^='correct_']");
    var correctAnswersArray = correctAnswers ? correctAnswers.value.split(",").map(x => x.trim()) : [];

    // Display the correct answers
    question.querySelectorAll(".correct-answer").forEach(x => x.style.display = "block");

    // Get the total number of checkbox options
    var options = question.querySelectorAll("input[type=checkbox]");
    var numOptions = options.length;

    // Disable all checkboxes to prevent changing the answer
    options.forEach(input => input.disabled = true);

    var correct = 0;
    var incorrect = 0;
    var unanswered = 0;

    // Iterate over selected inputs to mark correct/incorrect answers
    for (var selectedInput of selectedInputs) {
        var listItem = selectedInput.closest("li"); // Get the <li> containing the checkbox

        if (listItem) {
            if (correctAnswersArray.includes(selectedInput.value)) {
                // listItem.classList.add("correct"); // Apply class to the entire list item
                correct++;
            } else {
                // listItem.classList.add("incorrect");
                incorrect++;
            }
        }
    }

    // We log the number of the question and score

    // If all the correct answers are selected and no incorrect answers are selected
    // we return 1
    if (correct === correctAnswersArray.length && incorrect === 0) {
        correctAnswer.classList.add("correct");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } // If there are no answers we return NaN
    else if (selectedInputs.length === 0) {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } // If there are incorrect answers we return the penalty for random guessing
    else {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -0.5");
        return -0.5;
    }

}
</script>