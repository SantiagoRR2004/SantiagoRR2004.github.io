
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Examen</title>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@400;700&display=swap');
body {
font-family: 'Roboto', Arial, sans-serif;
background-color: #f9f9f9;
color: #333;
line-height: 1.6;
margin: 0;
padding: 20px;
}
.correct {
    color: #28a745; /* A brighter green for better visibility */
    font-weight: bold;
}
.incorrect {
    color: #dc3545; /* A brighter red for better visibility */
    font-weight: bold;
}
.question {
    margin-bottom: 20px;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.question p {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: bold;
    font-size: 20px;
    margin-bottom: 10px;
}
.question li {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: normal;
    font-size: 18px;
    list-style-type: none;
    margin: 5px 0;
    padding: 5px;
    border-radius: 3px;
    transition: background-color 0.3s ease;
}
.question li:hover {
    background-color: #f1f1f1; /* Highlight on hover */
}
input[type="checkbox"] {
    width: 17px;
    height: 17px;
    transform: scale(1.35);
    margin-right: 10px;
    cursor: pointer;
}
.correct-answer {
    display: none;
    font-weight: bold;
    font-size: 16px;
}
.answered {
    pointer-events: none;
}
#testForm {
    max-width: 800px;
    margin: 0 auto;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}
#submitButton {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}
#submitButton:hover {
    background-color: #0056b3;
}
#scoreDisplay {
    margin-top: 20px;
    font-size: 18px;
    font-weight: bold;
    text-align: center;
}     
        </style>
    </head>
    <body>
        <form id="testForm" onsubmit="return submitForm()">
    
            <div class="multipleChoice question">
                <p>1: A hospital is looking to reduce infection risks while ensuring continuous monitoring of medical equipment and personnel movement. Which solutions would best address their goals using IoT? [Tema 8Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_0" value="A"> A) Place cameras with facial recognition in all rooms to monitor behavior.</li><li><input type="checkbox" name="question_0" value="B"> B) Install asset tracking systems for medical equipment like infusion pumps.</li><li><input type="checkbox" name="question_0" value="C"> C) Replace human staff with AI chatbots for all patient interaction.</li><li><input type="checkbox" name="question_0" value="D"> D) Equip medical staff with RFID badges for location tracking.</li><li><input type="checkbox" name="question_0" value="E"> E) Embed thermal sensors and machine learning to detect fever symptoms at entry points.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B, D, E</p>
                <input type="hidden" name="correct_0" value="B, D, E">
            </div>
            
            <div class="multipleChoice question">
                <p>2: You're building an IoT-based predictive maintenance system for factory machines. Sensor data includes vibration, temperature, and voltage levels. The system must detect anomalies in real time and schedule maintenance if patterns suggest impending failure. What approaches or technologies would you include? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_1" value="A"> A) Bloom filter to compress real-time data streams.</li><li><input type="checkbox" name="question_1" value="B"> B) Stream analytics with sliding-window rules for anomaly detection.</li><li><input type="checkbox" name="question_1" value="C"> C) Descriptive statistics to summarize the vibration signal frequency.</li><li><input type="checkbox" name="question_1" value="D"> D) A supervised learning model trained on labeled failure data.</li><li><input type="checkbox" name="question_1" value="E"> E) Time-series database for historical trend analysis.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B, D, E</p>
                <input type="hidden" name="correct_1" value="B, D, E">
            </div>
            
            <div class="multipleChoice question">
                <p>3: Which of the following statements about public cloud IoT platforms like Xively and ThingWorx are accurate? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_2" value="A"> A) They provide development environments with integrated analytics.</li><li><input type="checkbox" name="question_2" value="B"> B) They offer RESTful and MQTT APIs for device integration.</li><li><input type="checkbox" name="question_2" value="C"> C) They rely entirely on local (on-premise) deployments.</li><li><input type="checkbox" name="question_2" value="D"> D) They eliminate the need for cloud-based storage.</li><li><input type="checkbox" name="question_2" value="E"> E) They include message-oriented middleware for real-time data handling.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, B, E</p>
                <input type="hidden" name="correct_2" value="A, B, E">
            </div>
            
            <div class="multipleChoice question">
                <p>4: Which of the following statements correctly describe the **purpose of ontologies in IoT data semantics**? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_3" value="A"> A) They eliminate the need for schema design in all cases.</li><li><input type="checkbox" name="question_3" value="B"> B) They allow devices and solutions to be automatically matched.</li><li><input type="checkbox" name="question_3" value="C"> C) They support consistent interpretation of heterogeneous device data.</li><li><input type="checkbox" name="question_3" value="D"> D) They help enable semantic interoperability between platforms.</li><li><input type="checkbox" name="question_3" value="E"> E) They force all data sources into a single canonical format.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B, C, D</p>
                <input type="hidden" name="correct_3" value="B, C, D">
            </div>
            
            <div class="multipleChoice question">
                <p>5: Which features are emphasized in the OpenFog node security and network layers? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_4" value="A"> A) East-west traffic monitoring for anomaly detection.</li><li><input type="checkbox" name="question_4" value="B"> B) Detection of physical intrusion or tampering.</li><li><input type="checkbox" name="question_4" value="C"> C) Direct IP connectivity to every sensor in the PAN.</li><li><input type="checkbox" name="question_4" value="D"> D) VPN termination between fog and cloud.</li><li><input type="checkbox" name="question_4" value="E"> E) Resilient routing through mesh reconfiguration.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, B, E</p>
                <input type="hidden" name="correct_4" value="A, B, E">
            </div>
            
            <div class="multipleChoice question">
                <p>6: You are tasked with selecting a stream processing framework for a system that prioritizes low latency and out-of-order event handling. Which platforms meet these needs? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_5" value="A"> A) MongoDB.</li><li><input type="checkbox" name="question_5" value="B"> B) Apache Storm.</li><li><input type="checkbox" name="question_5" value="C"> C) HDFS.</li><li><input type="checkbox" name="question_5" value="D"> D) Apache Flink.</li><li><input type="checkbox" name="question_5" value="E"> E) Apache Spark.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B, D</p>
                <input type="hidden" name="correct_5" value="B, D">
            </div>
            
            <div class="multipleChoice question">
                <p>7: Which of the following correctly describes the role of protocol abstraction in fog computing? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_6" value="A"> A) It enables heterogeneous sensor types to communicate through a unified interface.</li><li><input type="checkbox" name="question_6" value="B"> B) It removes the need for any standardization across edge devices.</li><li><input type="checkbox" name="question_6" value="C"> C) It converts IP packets into Zigbee frames for WPAN transmission.</li><li><input type="checkbox" name="question_6" value="D"> D) It synchronizes all sensor readings to a common clock domain.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A</p>
                <input type="hidden" name="correct_6" value="A">
            </div>
            
            <div class="multipleChoice question">
                <p>8: Which of the following sensors is best suited to estimate elevation changes within a building for an indoor positioning application? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_7" value="A"> A) Magnetometer.</li><li><input type="checkbox" name="question_7" value="B"> B) Barometric pressure sensor.</li><li><input type="checkbox" name="question_7" value="C"> C) Ultrasonic rangefinder.</li><li><input type="checkbox" name="question_7" value="D"> D) Thermistor.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B</p>
                <input type="hidden" name="correct_7" value="B">
            </div>
            
            <div class="multipleChoice question">
                <p>9: What management tasks are commonly associated with cloud service delivery for IoT systems? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_8" value="A"> A) Capacity planning of cloud nodes and infrastructure.</li><li><input type="checkbox" name="question_8" value="B"> B) Manual provisioning of virtual machines.</li><li><input type="checkbox" name="question_8" value="C"> C) Load balancing and multitenancy.</li><li><input type="checkbox" name="question_8" value="D"> D) Patch and update management.</li><li><input type="checkbox" name="question_8" value="E"> E) Configuration of routing protocols for mobile networks.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, C, D</p>
                <input type="hidden" name="correct_8" value="A, C, D">
            </div>
            
            <div class="multipleChoice question">
                <p>10: What is the primary reason that Arduino boards are rarely used in commercial products? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_9" value="A"> A) Their GPIO pins are not programmable.</li><li><input type="checkbox" name="question_9" value="B"> B) Their processors cannot run real-time operating systems.</li><li><input type="checkbox" name="question_9" value="C"> C) What are you talking about ??? They are used in commercial products!!</li><li><input type="checkbox" name="question_9" value="D"> D) They cannot support analog input.</li><li><input type="checkbox" name="question_9" value="E"> E) They are too large and power-inefficient for most production use cases.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: E</p>
                <input type="hidden" name="correct_9" value="E">
            </div>
            
            <input id="submitButton" type="submit" value="Enviar respuestas">
        </form>
        <p id="scoreDisplay"></p>
    </body>
    </html>
    <script>
function submitForm() {
    var form = document.getElementById("testForm");
    form.elements["submitButton"].disabled = true;

    var correctGlobal = 0;
    var incorrectGlobal = 0;
    var unanswered = 0;
    var totalScore = 0;

    var questions = document.getElementsByClassName("singleChoice");

    for (var question of questions) {
        var score = singleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    var questions = document.getElementsByClassName("multipleChoice");

    for (var question of questions) {
        var score = multipleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    console.log("Score out of all questions: " + totalScore);
    console.log("Correct: " + correctGlobal);
    console.log("Incorrect: " + incorrectGlobal);
    console.log("Unanswered: " + unanswered);

    // We calculate the score out of 10
    totalScore = ((totalScore / (correctGlobal + incorrectGlobal + unanswered)) * 10).toFixed(2);

    console.log("Score out of 10: " + totalScore);

    var scoreDisplay = document.getElementById("scoreDisplay");
    scoreDisplay.innerHTML = "Preguntas acertadas: " + correctGlobal + "<br>Preguntas falladas: " + incorrectGlobal + "<br>Puntuación total: " + totalScore + "/10";

    return false;
}
function singleChoice(question) {
    var selectedInput = question.querySelector("input:checked");
    var correctAnswer = question.querySelector(".correct-answer");
    correctAnswer.style.display = "block";

    // We only count the ones with radio buttons
    var options = question.querySelectorAll("input[type=radio]");
    var numOptions = options.length;

    // Disable all radio buttons to prevent changing the answer
    options.forEach(input => input.disabled = true);

    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        correctAnswer.classList.add("correct");
    } else {
        correctAnswer.classList.add("incorrect");
    }

    // We log the number of the question and score

    // If it is correct we return 1
    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } //If there is no answer we return NaN
    else if (selectedInput === null) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } //If it is incorrect we return the penalty for random guessing
    else {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -1/" + (numOptions - 1));
        return -1/(numOptions - 1);
    }
}
function multipleChoice(question) {
    var selectedInputs = question.querySelectorAll("input:checked");

    // Get the correct answer element
    var correctAnswer = question.querySelector(".correct-answer");

    // Extract the correct answers from the hidden input field
    var correctAnswers = question.querySelector("input[name^='correct_']");
    var correctAnswersArray = correctAnswers ? correctAnswers.value.split(",").map(x => x.trim()) : [];

    // Display the correct answers
    question.querySelectorAll(".correct-answer").forEach(x => x.style.display = "block");

    // Get the total number of checkbox options
    var options = question.querySelectorAll("input[type=checkbox]");
    var numOptions = options.length;

    // Disable all checkboxes to prevent changing the answer
    options.forEach(input => input.disabled = true);

    var correct = 0;
    var incorrect = 0;
    var unanswered = 0;

    // Iterate over selected inputs to mark correct/incorrect answers
    for (var selectedInput of selectedInputs) {
        var listItem = selectedInput.closest("li"); // Get the <li> containing the checkbox

        if (listItem) {
            if (correctAnswersArray.includes(selectedInput.value)) {
                // listItem.classList.add("correct"); // Apply class to the entire list item
                correct++;
            } else {
                // listItem.classList.add("incorrect");
                incorrect++;
            }
        }
    }

    // We log the number of the question and score

    // If all the correct answers are selected and no incorrect answers are selected
    // we return 1
    if (correct === correctAnswersArray.length && incorrect === 0) {
        correctAnswer.classList.add("correct");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } // If there are no answers we return NaN
    else if (selectedInputs.length === 0) {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } // If there are incorrect answers we return the penalty for random guessing
    else {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -0.5");
        return -0.5;
    }

}
</script>