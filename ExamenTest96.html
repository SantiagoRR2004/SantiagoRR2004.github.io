
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Examen</title>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@400;700&display=swap');
body {
font-family: 'Roboto', Arial, sans-serif;
background-color: #f9f9f9;
color: #333;
line-height: 1.6;
margin: 0;
padding: 20px;
}
.correct {
    color: #28a745; /* A brighter green for better visibility */
    font-weight: bold;
}
.incorrect {
    color: #dc3545; /* A brighter red for better visibility */
    font-weight: bold;
}
.question {
    margin-bottom: 20px;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.question p {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: bold;
    font-size: 20px;
    margin-bottom: 10px;
}
.question li {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: normal;
    font-size: 18px;
    list-style-type: none;
    margin: 5px 0;
    padding: 5px;
    border-radius: 3px;
    transition: background-color 0.3s ease;
}
.question li:hover {
    background-color: #f1f1f1; /* Highlight on hover */
}
input[type="checkbox"] {
    width: 17px;
    height: 17px;
    transform: scale(1.35);
    margin-right: 10px;
    cursor: pointer;
}
.correct-answer {
    display: none;
    font-weight: bold;
    font-size: 16px;
}
.answered {
    pointer-events: none;
}
#testForm {
    max-width: 800px;
    margin: 0 auto;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}
#submitButton {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}
#submitButton:hover {
    background-color: #0056b3;
}
#scoreDisplay {
    margin-top: 20px;
    font-size: 18px;
    font-weight: bold;
    text-align: center;
}     
        </style>
    </head>
    <body>
        <form id="testForm" onsubmit="return submitForm()">
    
            <div class="multipleChoice question">
                <p>1: Which of the following are key architectural distinctions between OpenFog-based fog computing and cloud-only deployments? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_0" value="A"> A) OpenFog nodes can support accelerators such as GPUs or FPGAs.</li><li><input type="checkbox" name="question_0" value="B"> B) OpenFog treats hardware as a tightly coupled monolith.</li><li><input type="checkbox" name="question_0" value="C"> C) Fog architectures include geographically aware routing and mesh reconfiguration.</li><li><input type="checkbox" name="question_0" value="D"> D) Fog systems may include multi-tiered node hierarchies for load distribution.</li><li><input type="checkbox" name="question_0" value="E"> E) OpenFog relies on serverless function execution but forbids container-based services.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, C, D</p>
                <input type="hidden" name="correct_0" value="A, C, D">
            </div>
            
            <div class="multipleChoice question">
                <p>2: In OpenFog architectures, what is the role of accelerator services? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_1" value="A"> A) Providing modular upgrade paths for fog dashboards.</li><li><input type="checkbox" name="question_1" value="B"> B) Ensuring real-time MQTT delivery to cloud VMs.</li><li><input type="checkbox" name="question_1" value="C"> C) Augmenting compute capacity using GPGPUs or FPGAs for vision and ML tasks.</li><li><input type="checkbox" name="question_1" value="D"> D) Pre-loading firmware updates onto constrained devices.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: C</p>
                <input type="hidden" name="correct_1" value="C">
            </div>
            
            <div class="multipleChoice question">
                <p>3: In the context of IoT-cloud integration, what is the key limitation that edge computing directly addresses? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_2" value="A"> A) Lack of storage capacity in centralized data centers.</li><li><input type="checkbox" name="question_2" value="B"> B) Low cost of on-premises infrastructure.</li><li><input type="checkbox" name="question_2" value="C"> C) Security compliance in cloud-hosted applications.</li><li><input type="checkbox" name="question_2" value="D"> D) Real-time response requirements in field applications.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: D</p>
                <input type="hidden" name="correct_2" value="D">
            </div>
            
            <div class="multipleChoice question">
                <p>4: Which methods are commonly used in **TinyML** to enable ML execution on microcontrollers? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_3" value="A"> A) Using interpretable rule-based expert systems.</li><li><input type="checkbox" name="question_3" value="B"> B) Knowledge distillation from complex teacher models.</li><li><input type="checkbox" name="question_3" value="C"> C) Model quantization (e.g., 32-bit to 8-bit).</li><li><input type="checkbox" name="question_3" value="D"> D) Replacing ML models with hard-coded thresholds.</li><li><input type="checkbox" name="question_3" value="E"> E) Pruning unused nodes in neural networks.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B, C, E</p>
                <input type="hidden" name="correct_3" value="B, C, E">
            </div>
            
            <div class="multipleChoice question">
                <p>5: Which of the following are active sensing systems? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_4" value="A"> A) Radar.</li><li><input type="checkbox" name="question_4" value="B"> B) Thermistor.</li><li><input type="checkbox" name="question_4" value="C"> C) LiDAR.</li><li><input type="checkbox" name="question_4" value="D"> D) PIR sensor.</li><li><input type="checkbox" name="question_4" value="E"> E) Hall-effect current sensor.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, C, E</p>
                <input type="hidden" name="correct_4" value="A, C, E">
            </div>
            
            <div class="multipleChoice question">
                <p>6: You're building an IoT-based predictive maintenance system for factory machines. Sensor data includes vibration, temperature, and voltage levels. The system must detect anomalies in real time and schedule maintenance if patterns suggest impending failure. What approaches or technologies would you include? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_5" value="A"> A) Bloom filter to compress real-time data streams.</li><li><input type="checkbox" name="question_5" value="B"> B) Stream analytics with sliding-window rules for anomaly detection.</li><li><input type="checkbox" name="question_5" value="C"> C) Descriptive statistics to summarize the vibration signal frequency.</li><li><input type="checkbox" name="question_5" value="D"> D) Time-series database for historical trend analysis.</li><li><input type="checkbox" name="question_5" value="E"> E) A supervised learning model trained on labeled failure data.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B, D, E</p>
                <input type="hidden" name="correct_5" value="B, D, E">
            </div>
            
            <div class="multipleChoice question">
                <p>7: Which challenges can be considered as obstacles or constraints for smart energy and infrastructure in urban settings? [Tema 8Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_6" value="A"> A) Short battery life of wireless air quality sensors.</li><li><input type="checkbox" name="question_6" value="B"> B) One-directional grid architectures incompatible with microtransactions.</li><li><input type="checkbox" name="question_6" value="C"> C) High deployment cost of real-time satellite surveillance.</li><li><input type="checkbox" name="question_6" value="D"> D) Aging water and gas pipe systems with frequent undetected leaks.</li><li><input type="checkbox" name="question_6" value="E"> E) Limited expansion capacity due to existing infrastructure.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B, D, E</p>
                <input type="hidden" name="correct_6" value="B, D, E">
            </div>
            
            <div class="multipleChoice question">
                <p>8: A factory needs to detect leaks of various organic solvents (ethanol, methanol, etc.). Which sensor characteristics or technologies are relevant? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_7" value="A"> A) Pore-filtering for molecular selectivity.</li><li><input type="checkbox" name="question_7" value="B"> B) ISFET with solvent-specific membrane.</li><li><input type="checkbox" name="question_7" value="C"> C) Requirement for heating element.</li><li><input type="checkbox" name="question_7" value="D"> D) Use of infrared pyrometer for gas detection.</li><li><input type="checkbox" name="question_7" value="E"> E) Catalytic oxidation capability.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, C, E</p>
                <input type="hidden" name="correct_7" value="A, C, E">
            </div>
            
            <div class="multipleChoice question">
                <p>9: A smart traffic management system in a city needs to react to vehicle congestion in real time. Which architecture best supports this requirement? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_8" value="A"> A) Cloud-only architecture using centralized analysis and storage.</li><li><input type="checkbox" name="question_8" value="B"> B) Fog computing using batch-processing in a metropolitan data center.</li><li><input type="checkbox" name="question_8" value="C"> C) Public IoT cloud PaaS with remote access to sensor APIs.</li><li><input type="checkbox" name="question_8" value="D"> D) Edge computing architecture using on-device processing and localized actuation.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: D</p>
                <input type="hidden" name="correct_8" value="D">
            </div>
            
            <div class="multipleChoice question">
                <p>10: Which of the following best characterizes the main difference between cloud computing and earlier models such as the Application Service Provider (ASP) model? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_9" value="A"> A) ASP models offer better elasticity than cloud computing.</li><li><input type="checkbox" name="question_9" value="B"> B) ASP allows more granular billing mechanisms compared to cloud computing.</li><li><input type="checkbox" name="question_9" value="C"> C) Cloud computing supports automated provisioning and elasticity, unlike ASP models.</li><li><input type="checkbox" name="question_9" value="D"> D) Cloud computing focuses on static provisioning while ASP supports dynamic scaling.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: C</p>
                <input type="hidden" name="correct_9" value="C">
            </div>
            
            <input id="submitButton" type="submit" value="Enviar respuestas">
        </form>
        <p id="scoreDisplay"></p>
    </body>
    </html>
    <script>
function submitForm() {
    var form = document.getElementById("testForm");
    form.elements["submitButton"].disabled = true;

    var correctGlobal = 0;
    var incorrectGlobal = 0;
    var unanswered = 0;
    var totalScore = 0;

    var questions = document.getElementsByClassName("singleChoice");

    for (var question of questions) {
        var score = singleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    var questions = document.getElementsByClassName("multipleChoice");

    for (var question of questions) {
        var score = multipleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    console.log("Score out of all questions: " + totalScore);
    console.log("Correct: " + correctGlobal);
    console.log("Incorrect: " + incorrectGlobal);
    console.log("Unanswered: " + unanswered);

    // We calculate the score out of 10
    totalScore = ((totalScore / (correctGlobal + incorrectGlobal + unanswered)) * 10).toFixed(2);

    console.log("Score out of 10: " + totalScore);

    var scoreDisplay = document.getElementById("scoreDisplay");
    scoreDisplay.innerHTML = "Preguntas acertadas: " + correctGlobal + "<br>Preguntas falladas: " + incorrectGlobal + "<br>Puntuación total: " + totalScore + "/10";

    return false;
}
function singleChoice(question) {
    var selectedInput = question.querySelector("input:checked");
    var correctAnswer = question.querySelector(".correct-answer");
    correctAnswer.style.display = "block";

    // We only count the ones with radio buttons
    var options = question.querySelectorAll("input[type=radio]");
    var numOptions = options.length;

    // Disable all radio buttons to prevent changing the answer
    options.forEach(input => input.disabled = true);

    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        correctAnswer.classList.add("correct");
    } else {
        correctAnswer.classList.add("incorrect");
    }

    // We log the number of the question and score

    // If it is correct we return 1
    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } //If there is no answer we return NaN
    else if (selectedInput === null) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } //If it is incorrect we return the penalty for random guessing
    else {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -1/" + (numOptions - 1));
        return -1/(numOptions - 1);
    }
}
function multipleChoice(question) {
    var selectedInputs = question.querySelectorAll("input:checked");

    // Get the correct answer element
    var correctAnswer = question.querySelector(".correct-answer");

    // Extract the correct answers from the hidden input field
    var correctAnswers = question.querySelector("input[name^='correct_']");
    var correctAnswersArray = correctAnswers ? correctAnswers.value.split(",").map(x => x.trim()) : [];

    // Display the correct answers
    question.querySelectorAll(".correct-answer").forEach(x => x.style.display = "block");

    // Get the total number of checkbox options
    var options = question.querySelectorAll("input[type=checkbox]");
    var numOptions = options.length;

    // Disable all checkboxes to prevent changing the answer
    options.forEach(input => input.disabled = true);

    var correct = 0;
    var incorrect = 0;
    var unanswered = 0;

    // Iterate over selected inputs to mark correct/incorrect answers
    for (var selectedInput of selectedInputs) {
        var listItem = selectedInput.closest("li"); // Get the <li> containing the checkbox

        if (listItem) {
            if (correctAnswersArray.includes(selectedInput.value)) {
                // listItem.classList.add("correct"); // Apply class to the entire list item
                correct++;
            } else {
                // listItem.classList.add("incorrect");
                incorrect++;
            }
        }
    }

    // We log the number of the question and score

    // If all the correct answers are selected and no incorrect answers are selected
    // we return 1
    if (correct === correctAnswersArray.length && incorrect === 0) {
        correctAnswer.classList.add("correct");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } // If there are no answers we return NaN
    else if (selectedInputs.length === 0) {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } // If there are incorrect answers we return the penalty for random guessing
    else {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -0.5");
        return -0.5;
    }

}
</script>