
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Examen</title>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@400;700&display=swap');
body {
font-family: 'Roboto', Arial, sans-serif;
background-color: #f9f9f9;
color: #333;
line-height: 1.6;
margin: 0;
padding: 20px;
}
.correct {
    color: #28a745; /* A brighter green for better visibility */
    font-weight: bold;
}
.incorrect {
    color: #dc3545; /* A brighter red for better visibility */
    font-weight: bold;
}
.question {
    margin-bottom: 20px;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.question p {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: bold;
    font-size: 20px;
    margin-bottom: 10px;
}
.question li {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: normal;
    font-size: 18px;
    list-style-type: none;
    margin: 5px 0;
    padding: 5px;
    border-radius: 3px;
    transition: background-color 0.3s ease;
}
.question li:hover {
    background-color: #f1f1f1; /* Highlight on hover */
}
input[type="checkbox"] {
    width: 17px;
    height: 17px;
    transform: scale(1.35);
    margin-right: 10px;
    cursor: pointer;
}
.correct-answer {
    display: none;
    font-weight: bold;
    font-size: 16px;
}
.answered {
    pointer-events: none;
}
#testForm {
    max-width: 800px;
    margin: 0 auto;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}
#submitButton {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}
#submitButton:hover {
    background-color: #0056b3;
}
#scoreDisplay {
    margin-top: 20px;
    font-size: 18px;
    font-weight: bold;
    text-align: center;
}     
        </style>
    </head>
    <body>
        <form id="testForm" onsubmit="return submitForm()">
    
            <div class="multipleChoice question">
                <p>1: You are tasked with building a smart environmental monitoring station to measure air quality. Which sensors/components are relevant? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_0" value="A"> A) Laser-based particle counter.</li><li><input type="checkbox" name="question_0" value="B"> B) CO catalytic sensor.</li><li><input type="checkbox" name="question_0" value="C"> C) Thermocouple (Type K).</li><li><input type="checkbox" name="question_0" value="D"> D) UV photo diode.</li><li><input type="checkbox" name="question_0" value="E"> E) Piezoelectric buzzer.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, B, D</p>
                <input type="hidden" name="correct_0" value="A, B, D">
            </div>
            
            <div class="multipleChoice question">
                <p>2: Which type of machine learning model is most appropriate for **modeling complex nonlinear relationships** in IoT data, such as correlating temperature, humidity, and voltage fluctuations? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_1" value="A"> A) Naive Bayes.</li><li><input type="checkbox" name="question_1" value="B"> B) Feedforward neural network.</li><li><input type="checkbox" name="question_1" value="C"> C) Decision tree.</li><li><input type="checkbox" name="question_1" value="D"> D) Linear regression.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B</p>
                <input type="hidden" name="correct_1" value="B">
            </div>
            
            <div class="multipleChoice question">
                <p>3: Which of the following describe **effective pipeline design principles** for IoT analytics? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_2" value="A"> A) Asynchronous communication between pipeline stages.</li><li><input type="checkbox" name="question_2" value="B"> B) Real-time dashboards tightly integrated with data ingestion logic.</li><li><input type="checkbox" name="question_2" value="C"> C) Modular design to enable replacement of processing components.</li><li><input type="checkbox" name="question_2" value="D"> D) Scalability to handle varying data ingestion rates.</li><li><input type="checkbox" name="question_2" value="E"> E) Strong coupling between storage and compute layers for consistency.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, C, D</p>
                <input type="hidden" name="correct_2" value="A, C, D">
            </div>
            
            <div class="multipleChoice question">
                <p>4: Which of the following are characteristics or benefits of using time-series databases in IoT backends? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_3" value="A"> A) Better schema enforcement to ensure data consistency.</li><li><input type="checkbox" name="question_3" value="B"> B) Ability to represent time zones and intervals more naturally in query language.</li><li><input type="checkbox" name="question_3" value="C"> C) Incompatibility with NoSQL principles.</li><li><input type="checkbox" name="question_3" value="D"> D) Superior performance in timestamp-based queries compared to general RDBMS.</li><li><input type="checkbox" name="question_3" value="E"> E) Optimized internal structures for temporal operations and summarization.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B, D, E</p>
                <input type="hidden" name="correct_3" value="B, D, E">
            </div>
            
            <div class="multipleChoice question">
                <p>5: A remote fog deployment in a critical infrastructure site must remain operational despite physical tampering or network disruption. Which architectural feature should be prioritized? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_4" value="A"> A) Dynamic container orchestration from the cloud.</li><li><input type="checkbox" name="question_4" value="B"> B) Horizontal scalability via cloud bursting.</li><li><input type="checkbox" name="question_4" value="C"> C) RESTful API for image service control.</li><li><input type="checkbox" name="question_4" value="D"> D) Peer-to-peer node monitoring and hardware-level security.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: D</p>
                <input type="hidden" name="correct_4" value="D">
            </div>
            
            <div class="multipleChoice question">
                <p>6: Why is fast network reconvergence (<100 ms) critical in IACS networks? [Tema 8Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_5" value="A"> A) It ensures that legacy equipment can remain on the network.</li><li><input type="checkbox" name="question_5" value="B"> B) It simplifies network planning for future factory expansions.</li><li><input type="checkbox" name="question_5" value="C"> C) It maintains real-time control communication during link or switch failures.</li><li><input type="checkbox" name="question_5" value="D"> D) It prevents factory workers from needing to manually reset machines.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: C</p>
                <input type="hidden" name="correct_5" value="C">
            </div>
            
            <div class="multipleChoice question">
                <p>7: A manufacturing company wants to increase product customization without increasing operational downtime. Which strategy is most aligned with IIoT principles? [Tema 8Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_6" value="A"> A) Install additional CNC machines for every custom product variant.</li><li><input type="checkbox" name="question_6" value="B"> B) Outsource product customization to external vendors.</li><li><input type="checkbox" name="question_6" value="C"> C) Pre-manufacture all customization variants and store them in warehouses.</li><li><input type="checkbox" name="question_6" value="D"> D) Use CPS and IIoT to dynamically reconfigure production lines.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: D</p>
                <input type="hidden" name="correct_6" value="D">
            </div>
            
            <div class="multipleChoice question">
                <p>8: In the context of Industry 4.0, which technologies are most directly integrated to enable autonomous industrial decision-making systems? [Tema 8Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_7" value="A"> A) Smart sensors.</li><li><input type="checkbox" name="question_7" value="B"> B) Edge AI processors.</li><li><input type="checkbox" name="question_7" value="C"> C) Quantum computing cores.</li><li><input type="checkbox" name="question_7" value="D"> D) Fog computing nodes.</li><li><input type="checkbox" name="question_7" value="E"> E) Deep learning neural networks.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, B, D, E</p>
                <input type="hidden" name="correct_7" value="A, B, D, E">
            </div>
            
            <div class="multipleChoice question">
                <p>9: A company is deploying IoT sensors in trucks to monitor engine temperature and geolocation in real time. Alerts must be issued if overheating is detected outside of predefined geofences. What architectural component is most critical for supporting such functionality? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_8" value="A"> A) SQL-based relational backend.</li><li><input type="checkbox" name="question_8" value="B"> B) Bloom filter.</li><li><input type="checkbox" name="question_8" value="C"> C) Kalman filter.</li><li><input type="checkbox" name="question_8" value="D"> D) Rules engine with location-aware logic.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: D</p>
                <input type="hidden" name="correct_8" value="D">
            </div>
            
            <div class="multipleChoice question">
                <p>10: Which of the following are key architectural distinctions between OpenFog-based fog computing and cloud-only deployments? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_9" value="A"> A) OpenFog nodes can support accelerators such as GPUs or FPGAs.</li><li><input type="checkbox" name="question_9" value="B"> B) OpenFog treats hardware as a tightly coupled monolith.</li><li><input type="checkbox" name="question_9" value="C"> C) Fog systems may include multi-tiered node hierarchies for load distribution.</li><li><input type="checkbox" name="question_9" value="D"> D) OpenFog relies on serverless function execution but forbids container-based services.</li><li><input type="checkbox" name="question_9" value="E"> E) Fog architectures include geographically aware routing and mesh reconfiguration.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, C, E</p>
                <input type="hidden" name="correct_9" value="A, C, E">
            </div>
            
            <input id="submitButton" type="submit" value="Enviar respuestas">
        </form>
        <p id="scoreDisplay"></p>
    </body>
    </html>
    <script>
function submitForm() {
    var form = document.getElementById("testForm");
    form.elements["submitButton"].disabled = true;

    var correctGlobal = 0;
    var incorrectGlobal = 0;
    var unanswered = 0;
    var totalScore = 0;

    var questions = document.getElementsByClassName("singleChoice");

    for (var question of questions) {
        var score = singleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    var questions = document.getElementsByClassName("multipleChoice");

    for (var question of questions) {
        var score = multipleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    console.log("Score out of all questions: " + totalScore);
    console.log("Correct: " + correctGlobal);
    console.log("Incorrect: " + incorrectGlobal);
    console.log("Unanswered: " + unanswered);

    // We calculate the score out of 10
    totalScore = ((totalScore / (correctGlobal + incorrectGlobal + unanswered)) * 10).toFixed(2);

    console.log("Score out of 10: " + totalScore);

    var scoreDisplay = document.getElementById("scoreDisplay");
    scoreDisplay.innerHTML = "Preguntas acertadas: " + correctGlobal + "<br>Preguntas falladas: " + incorrectGlobal + "<br>Puntuación total: " + totalScore + "/10";

    return false;
}
function singleChoice(question) {
    var selectedInput = question.querySelector("input:checked");
    var correctAnswer = question.querySelector(".correct-answer");
    correctAnswer.style.display = "block";

    // We only count the ones with radio buttons
    var options = question.querySelectorAll("input[type=radio]");
    var numOptions = options.length;

    // Disable all radio buttons to prevent changing the answer
    options.forEach(input => input.disabled = true);

    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        correctAnswer.classList.add("correct");
    } else {
        correctAnswer.classList.add("incorrect");
    }

    // We log the number of the question and score

    // If it is correct we return 1
    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } //If there is no answer we return NaN
    else if (selectedInput === null) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } //If it is incorrect we return the penalty for random guessing
    else {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -1/" + (numOptions - 1));
        return -1/(numOptions - 1);
    }
}
function multipleChoice(question) {
    var selectedInputs = question.querySelectorAll("input:checked");

    // Get the correct answer element
    var correctAnswer = question.querySelector(".correct-answer");

    // Extract the correct answers from the hidden input field
    var correctAnswers = question.querySelector("input[name^='correct_']");
    var correctAnswersArray = correctAnswers ? correctAnswers.value.split(",").map(x => x.trim()) : [];

    // Display the correct answers
    question.querySelectorAll(".correct-answer").forEach(x => x.style.display = "block");

    // Get the total number of checkbox options
    var options = question.querySelectorAll("input[type=checkbox]");
    var numOptions = options.length;

    // Disable all checkboxes to prevent changing the answer
    options.forEach(input => input.disabled = true);

    var correct = 0;
    var incorrect = 0;
    var unanswered = 0;

    // Iterate over selected inputs to mark correct/incorrect answers
    for (var selectedInput of selectedInputs) {
        var listItem = selectedInput.closest("li"); // Get the <li> containing the checkbox

        if (listItem) {
            if (correctAnswersArray.includes(selectedInput.value)) {
                // listItem.classList.add("correct"); // Apply class to the entire list item
                correct++;
            } else {
                // listItem.classList.add("incorrect");
                incorrect++;
            }
        }
    }

    // We log the number of the question and score

    // If all the correct answers are selected and no incorrect answers are selected
    // we return 1
    if (correct === correctAnswersArray.length && incorrect === 0) {
        correctAnswer.classList.add("correct");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } // If there are no answers we return NaN
    else if (selectedInputs.length === 0) {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } // If there are incorrect answers we return the penalty for random guessing
    else {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -0.5");
        return -0.5;
    }

}
</script>