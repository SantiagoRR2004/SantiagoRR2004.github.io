
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Examen</title>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@400;700&display=swap');
body {
font-family: 'Roboto', Arial, sans-serif;
background-color: #f9f9f9;
color: #333;
line-height: 1.6;
margin: 0;
padding: 20px;
}
.correct {
    color: #28a745; /* A brighter green for better visibility */
    font-weight: bold;
}
.incorrect {
    color: #dc3545; /* A brighter red for better visibility */
    font-weight: bold;
}
.question {
    margin-bottom: 20px;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.question p {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: bold;
    font-size: 20px;
    margin-bottom: 10px;
}
.question li {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: normal;
    font-size: 18px;
    list-style-type: none;
    margin: 5px 0;
    padding: 5px;
    border-radius: 3px;
    transition: background-color 0.3s ease;
}
.question li:hover {
    background-color: #f1f1f1; /* Highlight on hover */
}
input[type="checkbox"] {
    width: 17px;
    height: 17px;
    transform: scale(1.35);
    margin-right: 10px;
    cursor: pointer;
}
.correct-answer {
    display: none;
    font-weight: bold;
    font-size: 16px;
}
.answered {
    pointer-events: none;
}
#testForm {
    max-width: 800px;
    margin: 0 auto;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}
#submitButton {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}
#submitButton:hover {
    background-color: #0056b3;
}
#scoreDisplay {
    margin-top: 20px;
    font-size: 18px;
    font-weight: bold;
    text-align: center;
}     
        </style>
    </head>
    <body>
        <form id="testForm" onsubmit="return submitForm()">
    
            <div class="multipleChoice question">
                <p>1: Which of the following challenges must IoT-cloud platforms address to ensure interoperability and effective integration? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_0" value="A"> A) Presence of virtual and physical sensors.</li><li><input type="checkbox" name="question_0" value="B"> B) Fixed data schemas enforced by IoT gateways.</li><li><input type="checkbox" name="question_0" value="C"> C) Semantically diverse data formats.</li><li><input type="checkbox" name="question_0" value="D"> D) Data quality and timestamp inconsistencies.</li><li><input type="checkbox" name="question_0" value="E"> E) Homogeneous reference units across all devices.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, C, D</p>
                <input type="hidden" name="correct_0" value="A, C, D">
            </div>
            
            <div class="multipleChoice question">
                <p>2: Why is Amazon EC2 considered a canonical example of IaaS in cloud computing? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_1" value="A"> A) It limits customization to promote interoperability across vendors.</li><li><input type="checkbox" name="question_1" value="B"> B) It focuses only on database hosting and offloads all computation.</li><li><input type="checkbox" name="question_1" value="C"> C) It provides on-demand virtual servers and elastic storage with minimal setup.</li><li><input type="checkbox" name="question_1" value="D"> D) It offers a closed system with proprietary APIs.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: C</p>
                <input type="hidden" name="correct_1" value="C">
            </div>
            
            <div class="multipleChoice question">
                <p>3: Which trade-offs must you consider when choosing between an 8-bit and a 32-bit microcontroller? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_2" value="A"> A) Availability of floating-point hardware.</li><li><input type="checkbox" name="question_2" value="B"> B) Execution speed.</li><li><input type="checkbox" name="question_2" value="C"> C) Memory size and addressing.</li><li><input type="checkbox" name="question_2" value="D"> D) Cost and power consumption.</li><li><input type="checkbox" name="question_2" value="E"> E) Peripheral support.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, B, C, D</p>
                <input type="hidden" name="correct_2" value="A, B, C, D">
            </div>
            
            <div class="multipleChoice question">
                <p>4: A municipality plans to deploy an environmental monitoring system using BLE-connected air quality sensors and wants to offload pattern recognition and aggregation. Which fog node design is most suitable? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_3" value="A"> A) Gateway-based fog node supporting BLE, protocol abstraction, and local inference.</li><li><input type="checkbox" name="question_3" value="B"> B) Sensor-level processing with HTTP push.</li><li><input type="checkbox" name="question_3" value="C"> C) VM-based edge node requiring constant internet access for function deployment.</li><li><input type="checkbox" name="question_3" value="D"> D) On-prem private cloud with static provisioning.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A</p>
                <input type="hidden" name="correct_3" value="A">
            </div>
            
            <div class="multipleChoice question">
                <p>5: You are designing a low-cost soil moisture monitoring system using Arduino. Which sensor configuration is most appropriate? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_4" value="A"> A) Thermistor connected to A0.</li><li><input type="checkbox" name="question_4" value="B"> B) Ultrasonic sensor measuring ground reflection time.</li><li><input type="checkbox" name="question_4" value="C"> C) Analog capacitive sensor connected to an ADC pin.</li><li><input type="checkbox" name="question_4" value="D"> D) Digital capacitive sensor connected to digital pin with PWM.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: C</p>
                <input type="hidden" name="correct_4" value="C">
            </div>
            
            <div class="multipleChoice question">
                <p>6: Which of the following are advantages of using a PaaS-based IoT platform instead of a SaaS-based solution? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_5" value="A"> A) Direct access to ingestion, storage, and processing functions.</li><li><input type="checkbox" name="question_5" value="B"> B) Minimal programming skills required.</li><li><input type="checkbox" name="question_5" value="C"> C) Generic APIs for rapid integration.</li><li><input type="checkbox" name="question_5" value="D"> D) Ability to optimize data models for specific use cases.</li><li><input type="checkbox" name="question_5" value="E"> E) Greater flexibility in backend customization.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, D, E</p>
                <input type="hidden" name="correct_5" value="A, D, E">
            </div>
            
            <div class="multipleChoice question">
                <p>7: Which statements best describe realistic outcomes of IoT-enabled predictive maintenance? [Tema 8Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_6" value="A"> A) It eliminates the need for all human intervention in the maintenance process.</li><li><input type="checkbox" name="question_6" value="B"> B) It completely removes the occurrence of unexpected failures in all cases.</li><li><input type="checkbox" name="question_6" value="C"> C) It helps in identifying component wear patterns in advance to schedule timely intervention.</li><li><input type="checkbox" name="question_6" value="D"> D) It shifts the paradigm from time-based to condition-based maintenance.</li><li><input type="checkbox" name="question_6" value="E"> E) It can lead to fully autonomous part ordering and replacement scheduling.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: C, D, E</p>
                <input type="hidden" name="correct_6" value="C, D, E">
            </div>
            
            <div class="multipleChoice question">
                <p>8: Which of the following are incorrect assumptions about IoT-enabled smart manufacturing? [Tema 8Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_7" value="A"> A) Customers can submit customization requests during production.</li><li><input type="checkbox" name="question_7" value="B"> B) Usage data from products can inform future design iterations.</li><li><input type="checkbox" name="question_7" value="C"> C) Predictive maintenance eliminates the need for any scheduled servicing.</li><li><input type="checkbox" name="question_7" value="D"> D) The MES layer operates independently from real-time sensor data.</li><li><input type="checkbox" name="question_7" value="E"> E) Tool tracking improves both quality assurance and safety.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: C, D</p>
                <input type="hidden" name="correct_7" value="C, D">
            </div>
            
            <div class="multipleChoice question">
                <p>9: A company is deploying IoT sensors in trucks to monitor engine temperature and geolocation in real time. Alerts must be issued if overheating is detected outside of predefined geofences. What architectural component is most critical for supporting such functionality? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_8" value="A"> A) Rules engine with location-aware logic.</li><li><input type="checkbox" name="question_8" value="B"> B) SQL-based relational backend.</li><li><input type="checkbox" name="question_8" value="C"> C) Kalman filter.</li><li><input type="checkbox" name="question_8" value="D"> D) Bloom filter.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A</p>
                <input type="hidden" name="correct_8" value="A">
            </div>
            
            <div class="multipleChoice question">
                <p>10: You are tasked with designing a backend system for a smart agriculture deployment monitoring soil moisture and temperature across hundreds of fields. Each sensor reports data every 10 seconds. The system must support long-term analysis and enable future predictive models.Which of the following design decisions are appropriate? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_9" value="A"> A) Use a time-series database to store sensor readings with timestamps.</li><li><input type="checkbox" name="question_9" value="B"> B) Implement stream analytics for alerting on real-time drought risk.</li><li><input type="checkbox" name="question_9" value="C"> C) Avoid relational databases due to lack of JOIN support.</li><li><input type="checkbox" name="question_9" value="D"> D) Use a Bloom filter to reduce transmission of unchanged data values.</li><li><input type="checkbox" name="question_9" value="E"> E) Store raw data as text files to avoid database overhead.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, B, D</p>
                <input type="hidden" name="correct_9" value="A, B, D">
            </div>
            
            <input id="submitButton" type="submit" value="Enviar respuestas">
        </form>
        <p id="scoreDisplay"></p>
    </body>
    </html>
    <script>
function submitForm() {
    var form = document.getElementById("testForm");
    form.elements["submitButton"].disabled = true;

    var correctGlobal = 0;
    var incorrectGlobal = 0;
    var unanswered = 0;
    var totalScore = 0;

    var questions = document.getElementsByClassName("singleChoice");

    for (var question of questions) {
        var score = singleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    var questions = document.getElementsByClassName("multipleChoice");

    for (var question of questions) {
        var score = multipleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    console.log("Score out of all questions: " + totalScore);
    console.log("Correct: " + correctGlobal);
    console.log("Incorrect: " + incorrectGlobal);
    console.log("Unanswered: " + unanswered);

    // We calculate the score out of 10
    totalScore = ((totalScore / (correctGlobal + incorrectGlobal + unanswered)) * 10).toFixed(2);

    console.log("Score out of 10: " + totalScore);

    var scoreDisplay = document.getElementById("scoreDisplay");
    scoreDisplay.innerHTML = "Preguntas acertadas: " + correctGlobal + "<br>Preguntas falladas: " + incorrectGlobal + "<br>Puntuación total: " + totalScore + "/10";

    return false;
}
function singleChoice(question) {
    var selectedInput = question.querySelector("input:checked");
    var correctAnswer = question.querySelector(".correct-answer");
    correctAnswer.style.display = "block";

    // We only count the ones with radio buttons
    var options = question.querySelectorAll("input[type=radio]");
    var numOptions = options.length;

    // Disable all radio buttons to prevent changing the answer
    options.forEach(input => input.disabled = true);

    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        correctAnswer.classList.add("correct");
    } else {
        correctAnswer.classList.add("incorrect");
    }

    // We log the number of the question and score

    // If it is correct we return 1
    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } //If there is no answer we return NaN
    else if (selectedInput === null) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } //If it is incorrect we return the penalty for random guessing
    else {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -1/" + (numOptions - 1));
        return -1/(numOptions - 1);
    }
}
function multipleChoice(question) {
    var selectedInputs = question.querySelectorAll("input:checked");

    // Get the correct answer element
    var correctAnswer = question.querySelector(".correct-answer");

    // Extract the correct answers from the hidden input field
    var correctAnswers = question.querySelector("input[name^='correct_']");
    var correctAnswersArray = correctAnswers ? correctAnswers.value.split(",").map(x => x.trim()) : [];

    // Display the correct answers
    question.querySelectorAll(".correct-answer").forEach(x => x.style.display = "block");

    // Get the total number of checkbox options
    var options = question.querySelectorAll("input[type=checkbox]");
    var numOptions = options.length;

    // Disable all checkboxes to prevent changing the answer
    options.forEach(input => input.disabled = true);

    var correct = 0;
    var incorrect = 0;
    var unanswered = 0;

    // Iterate over selected inputs to mark correct/incorrect answers
    for (var selectedInput of selectedInputs) {
        var listItem = selectedInput.closest("li"); // Get the <li> containing the checkbox

        if (listItem) {
            if (correctAnswersArray.includes(selectedInput.value)) {
                // listItem.classList.add("correct"); // Apply class to the entire list item
                correct++;
            } else {
                // listItem.classList.add("incorrect");
                incorrect++;
            }
        }
    }

    // We log the number of the question and score

    // If all the correct answers are selected and no incorrect answers are selected
    // we return 1
    if (correct === correctAnswersArray.length && incorrect === 0) {
        correctAnswer.classList.add("correct");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } // If there are no answers we return NaN
    else if (selectedInputs.length === 0) {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } // If there are incorrect answers we return the penalty for random guessing
    else {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -0.5");
        return -0.5;
    }

}
</script>