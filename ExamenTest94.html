
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Examen</title>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@400;700&display=swap');
body {
font-family: 'Roboto', Arial, sans-serif;
background-color: #f9f9f9;
color: #333;
line-height: 1.6;
margin: 0;
padding: 20px;
}
.correct {
    color: #28a745; /* A brighter green for better visibility */
    font-weight: bold;
}
.incorrect {
    color: #dc3545; /* A brighter red for better visibility */
    font-weight: bold;
}
.question {
    margin-bottom: 20px;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.question p {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: bold;
    font-size: 20px;
    margin-bottom: 10px;
}
.question li {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: normal;
    font-size: 18px;
    list-style-type: none;
    margin: 5px 0;
    padding: 5px;
    border-radius: 3px;
    transition: background-color 0.3s ease;
}
.question li:hover {
    background-color: #f1f1f1; /* Highlight on hover */
}
input[type="checkbox"] {
    width: 17px;
    height: 17px;
    transform: scale(1.35);
    margin-right: 10px;
    cursor: pointer;
}
.correct-answer {
    display: none;
    font-weight: bold;
    font-size: 16px;
}
.answered {
    pointer-events: none;
}
#testForm {
    max-width: 800px;
    margin: 0 auto;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}
#submitButton {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}
#submitButton:hover {
    background-color: #0056b3;
}
#scoreDisplay {
    margin-top: 20px;
    font-size: 18px;
    font-weight: bold;
    text-align: center;
}     
        </style>
    </head>
    <body>
        <form id="testForm" onsubmit="return submitForm()">
    
            <div class="multipleChoice question">
                <p>1: Which of the following benefits are realistically associated with embedding AI in industrial IoT systems? [Tema 8Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_0" value="A"> A) Reducing response times through edge-based automation.</li><li><input type="checkbox" name="question_0" value="B"> B) Eliminating the need for human oversight in critical safety applications.</li><li><input type="checkbox" name="question_0" value="C"> C) Enhancing dynamic pricing strategies based on real-time consumption.</li><li><input type="checkbox" name="question_0" value="D"> D) Supporting predictive maintenance to reduce downtime.</li><li><input type="checkbox" name="question_0" value="E"> E) Guaranteeing perfect decision-making based on complete data.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, C, D</p>
                <input type="hidden" name="correct_0" value="A, C, D">
            </div>
            
            <div class="multipleChoice question">
                <p>2: What type of IoT data source is best characterized by bidirectional communication, format flexibility, and self-tuning capabilities? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_1" value="A"> A) Active</li><li><input type="checkbox" name="question_1" value="B"> B) Stateless</li><li><input type="checkbox" name="question_1" value="C"> C) Passive</li><li><input type="checkbox" name="question_1" value="D"> D) Dynamic</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: D</p>
                <input type="hidden" name="correct_1" value="D">
            </div>
            
            <div class="multipleChoice question">
                <p>3: You are designing a low-power IoT sensor node that must visually indicate three different states (e.g., idle, transmitting, error) with minimal power consumption and only two available GPIO pins. Which output component strategy is most appropriate? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_2" value="A"> A) An RGB LED driven via charlieplexing.</li><li><input type="checkbox" name="question_2" value="B"> B) A monochrome LCD display with SPI interface.</li><li><input type="checkbox" name="question_2" value="C"> C) Three individual monochromatic LEDs.</li><li><input type="checkbox" name="question_2" value="D"> D) An RGB LED in common cathode configuration.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: D</p>
                <input type="hidden" name="correct_2" value="D">
            </div>
            
            <div class="multipleChoice question">
                <p>4: A city government wants to optimize waste collection routes and schedules. They want to reduce costs and carbon emissions while maintaining cleanliness. Which IoT-enabled solution best fits their needs? [Tema 8Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_3" value="A"> A) Use public camera feeds analyzed by AI to detect full bins.</li><li><input type="checkbox" name="question_3" value="B"> B) Deploy smart assistant kiosks to gather citizen reports on full bins.</li><li><input type="checkbox" name="question_3" value="C"> C) Equip bins with fill-level sensors that communicate wirelessly with a central dispatch system.</li><li><input type="checkbox" name="question_3" value="D"> D) Track garbage trucks using GPS to ensure route compliance.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: C</p>
                <input type="hidden" name="correct_3" value="C">
            </div>
            
            <div class="multipleChoice question">
                <p>5: Which type of machine learning model is most appropriate for **modeling complex nonlinear relationships** in IoT data, such as correlating temperature, humidity, and voltage fluctuations? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_4" value="A"> A) Naive Bayes.</li><li><input type="checkbox" name="question_4" value="B"> B) Feedforward neural network.</li><li><input type="checkbox" name="question_4" value="C"> C) Linear regression.</li><li><input type="checkbox" name="question_4" value="D"> D) Decision tree.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B</p>
                <input type="hidden" name="correct_4" value="B">
            </div>
            
            <div class="multipleChoice question">
                <p>6: Which of the following best explains how open data contributes to smart city development? [Tema 8Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_5" value="A"> A) It eliminates the need for interoperability between data silos.</li><li><input type="checkbox" name="question_5" value="B"> B) It helps enforce strict access controls on IoT systems.</li><li><input type="checkbox" name="question_5" value="C"> C) It boosts innovation and transparency by enabling access to datasets by all stakeholders.</li><li><input type="checkbox" name="question_5" value="D"> D) It ensures only private companies have access to high-value datasets.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: C</p>
                <input type="hidden" name="correct_5" value="C">
            </div>
            
            <div class="multipleChoice question">
                <p>7: You need to design an IoT-controlled lock system for a storage cabinet. The system must allow opening on command and maintain its position without continuous power. Which of the following components are suitable or required? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_6" value="A"> A) An electromechanical relay in SPDT mode.</li><li><input type="checkbox" name="question_6" value="B"> B) A solenoid with a spring return.</li><li><input type="checkbox" name="question_6" value="C"> C) A stepper motor with holding torque.</li><li><input type="checkbox" name="question_6" value="D"> D) A piezoelectric vibration motor.</li><li><input type="checkbox" name="question_6" value="E"> E) A servo motor configured for angle locking.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B, C, E</p>
                <input type="hidden" name="correct_6" value="B, C, E">
            </div>
            
            <div class="multipleChoice question">
                <p>8: You need to design a chemical sensing device to detect presence of ethanol vapor in a factory. Power usage is not a concern. Which sensor type is most appropriate? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_7" value="A"> A) Photoresistor with UV filter.</li><li><input type="checkbox" name="question_7" value="B"> B) Catalytic gas sensor.</li><li><input type="checkbox" name="question_7" value="C"> C) Capacitive soil humidity sensor.</li><li><input type="checkbox" name="question_7" value="D"> D) Thermocouple with alumel-chromel wires.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B</p>
                <input type="hidden" name="correct_7" value="B">
            </div>
            
            <div class="multipleChoice question">
                <p>9: Which of the following statements about anomaly detection and clustering in IoT are correct? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_8" value="A"> A) Clustering methods can support anomaly detection by flagging distant items.</li><li><input type="checkbox" name="question_8" value="B"> B) Hierarchical clustering groups items based on distance or similarity in features.</li><li><input type="checkbox" name="question_8" value="C"> C) Clustering requires labeled data to work effectively.</li><li><input type="checkbox" name="question_8" value="D"> D) K-means clustering determines the number of clusters dynamically based on data.</li><li><input type="checkbox" name="question_8" value="E"> E) Principal Component Analysis (PCA) reduces dimensionality to highlight variance.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, B, E</p>
                <input type="hidden" name="correct_8" value="A, B, E">
            </div>
            
            <div class="multipleChoice question">
                <p>10: Which technique is most appropriate when deploying a trained classifier to **ultra-low-power microcontrollers** on wearable IoT devices? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_9" value="A"> A) Convert the model into SQL logic for relational execution.</li><li><input type="checkbox" name="question_9" value="B"> B) Use a deep convolutional network trained on cloud GPU.</li><li><input type="checkbox" name="question_9" value="C"> C) Compress the model using pruning or quantization.</li><li><input type="checkbox" name="question_9" value="D"> D) Use a Random Forest with hundreds of deep trees.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: C</p>
                <input type="hidden" name="correct_9" value="C">
            </div>
            
            <input id="submitButton" type="submit" value="Enviar respuestas">
        </form>
        <p id="scoreDisplay"></p>
    </body>
    </html>
    <script>
function submitForm() {
    var form = document.getElementById("testForm");
    form.elements["submitButton"].disabled = true;

    var correctGlobal = 0;
    var incorrectGlobal = 0;
    var unanswered = 0;
    var totalScore = 0;

    var questions = document.getElementsByClassName("singleChoice");

    for (var question of questions) {
        var score = singleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    var questions = document.getElementsByClassName("multipleChoice");

    for (var question of questions) {
        var score = multipleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    console.log("Score out of all questions: " + totalScore);
    console.log("Correct: " + correctGlobal);
    console.log("Incorrect: " + incorrectGlobal);
    console.log("Unanswered: " + unanswered);

    // We calculate the score out of 10
    totalScore = ((totalScore / (correctGlobal + incorrectGlobal + unanswered)) * 10).toFixed(2);

    console.log("Score out of 10: " + totalScore);

    var scoreDisplay = document.getElementById("scoreDisplay");
    scoreDisplay.innerHTML = "Preguntas acertadas: " + correctGlobal + "<br>Preguntas falladas: " + incorrectGlobal + "<br>Puntuación total: " + totalScore + "/10";

    return false;
}
function singleChoice(question) {
    var selectedInput = question.querySelector("input:checked");
    var correctAnswer = question.querySelector(".correct-answer");
    correctAnswer.style.display = "block";

    // We only count the ones with radio buttons
    var options = question.querySelectorAll("input[type=radio]");
    var numOptions = options.length;

    // Disable all radio buttons to prevent changing the answer
    options.forEach(input => input.disabled = true);

    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        correctAnswer.classList.add("correct");
    } else {
        correctAnswer.classList.add("incorrect");
    }

    // We log the number of the question and score

    // If it is correct we return 1
    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } //If there is no answer we return NaN
    else if (selectedInput === null) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } //If it is incorrect we return the penalty for random guessing
    else {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -1/" + (numOptions - 1));
        return -1/(numOptions - 1);
    }
}
function multipleChoice(question) {
    var selectedInputs = question.querySelectorAll("input:checked");

    // Get the correct answer element
    var correctAnswer = question.querySelector(".correct-answer");

    // Extract the correct answers from the hidden input field
    var correctAnswers = question.querySelector("input[name^='correct_']");
    var correctAnswersArray = correctAnswers ? correctAnswers.value.split(",").map(x => x.trim()) : [];

    // Display the correct answers
    question.querySelectorAll(".correct-answer").forEach(x => x.style.display = "block");

    // Get the total number of checkbox options
    var options = question.querySelectorAll("input[type=checkbox]");
    var numOptions = options.length;

    // Disable all checkboxes to prevent changing the answer
    options.forEach(input => input.disabled = true);

    var correct = 0;
    var incorrect = 0;
    var unanswered = 0;

    // Iterate over selected inputs to mark correct/incorrect answers
    for (var selectedInput of selectedInputs) {
        var listItem = selectedInput.closest("li"); // Get the <li> containing the checkbox

        if (listItem) {
            if (correctAnswersArray.includes(selectedInput.value)) {
                // listItem.classList.add("correct"); // Apply class to the entire list item
                correct++;
            } else {
                // listItem.classList.add("incorrect");
                incorrect++;
            }
        }
    }

    // We log the number of the question and score

    // If all the correct answers are selected and no incorrect answers are selected
    // we return 1
    if (correct === correctAnswersArray.length && incorrect === 0) {
        correctAnswer.classList.add("correct");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } // If there are no answers we return NaN
    else if (selectedInputs.length === 0) {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } // If there are incorrect answers we return the penalty for random guessing
    else {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -0.5");
        return -0.5;
    }

}
</script>