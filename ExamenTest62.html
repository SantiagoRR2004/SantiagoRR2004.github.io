
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Examen</title>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@400;700&display=swap');
body {
font-family: 'Roboto', Arial, sans-serif;
background-color: #f9f9f9;
color: #333;
line-height: 1.6;
margin: 0;
padding: 20px;
}
.correct {
    color: #28a745; /* A brighter green for better visibility */
    font-weight: bold;
}
.incorrect {
    color: #dc3545; /* A brighter red for better visibility */
    font-weight: bold;
}
.question {
    margin-bottom: 20px;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.question p {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: bold;
    font-size: 20px;
    margin-bottom: 10px;
}
.question li {
    font-family: 'Roboto', Arial, sans-serif;
    font-weight: normal;
    font-size: 18px;
    list-style-type: none;
    margin: 5px 0;
    padding: 5px;
    border-radius: 3px;
    transition: background-color 0.3s ease;
}
.question li:hover {
    background-color: #f1f1f1; /* Highlight on hover */
}
input[type="checkbox"] {
    width: 17px;
    height: 17px;
    transform: scale(1.35);
    margin-right: 10px;
    cursor: pointer;
}
.correct-answer {
    display: none;
    font-weight: bold;
    font-size: 16px;
}
.answered {
    pointer-events: none;
}
#testForm {
    max-width: 800px;
    margin: 0 auto;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}
#submitButton {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}
#submitButton:hover {
    background-color: #0056b3;
}
#scoreDisplay {
    margin-top: 20px;
    font-size: 18px;
    font-weight: bold;
    text-align: center;
}     
        </style>
    </head>
    <body>
        <form id="testForm" onsubmit="return submitForm()">
    
            <div class="multipleChoice question">
                <p>1: What is the goal of the Semantic Sensor Network (SSN) ontology developed by W3C? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_0" value="A"> A) To manage streaming ingestion rates in real time.</li><li><input type="checkbox" name="question_0" value="B"> B) To describe sensors, observations, actuators, and their relationships semantically.</li><li><input type="checkbox" name="question_0" value="C"> C) To define data encryption protocols for sensors.</li><li><input type="checkbox" name="question_0" value="D"> D) To enable edge nodes to execute rule-based logic.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B</p>
                <input type="hidden" name="correct_0" value="B">
            </div>
            
            <div class="multipleChoice question">
                <p>2: What management tasks are commonly associated with cloud service delivery for IoT systems? [Tema 7Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_1" value="A"> A) Configuration of routing protocols for mobile networks.</li><li><input type="checkbox" name="question_1" value="B"> B) Patch and update management.</li><li><input type="checkbox" name="question_1" value="C"> C) Load balancing and multitenancy.</li><li><input type="checkbox" name="question_1" value="D"> D) Manual provisioning of virtual machines.</li><li><input type="checkbox" name="question_1" value="E"> E) Capacity planning of cloud nodes and infrastructure.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B, C, E</p>
                <input type="hidden" name="correct_1" value="B, C, E">
            </div>
            
            <div class="multipleChoice question">
                <p>3: What is the main limitation of rule-based systems in IoT stream analytics? [Tema 6Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_2" value="A"> A) They are not executable on low-powered gateway devices.</li><li><input type="checkbox" name="question_2" value="B"> B) They cannot process high-frequency data.</li><li><input type="checkbox" name="question_2" value="C"> C) They require retraining like supervised models.</li><li><input type="checkbox" name="question_2" value="D"> D) They struggle with temporal dependencies and conflicting conditions.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: D</p>
                <input type="hidden" name="correct_2" value="D">
            </div>
            
            <div class="multipleChoice question">
                <p>4: Which characteristics of industrial environments must be considered when designing IIoT deployments? [Tema 8Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_3" value="A"> A) Deterministic timing and low-latency requirements.</li><li><input type="checkbox" name="question_3" value="B"> B) Harsh environmental conditions (dust, temperature, vibrations).</li><li><input type="checkbox" name="question_3" value="C"> C) Long equipment life cycles and proprietary protocols.</li><li><input type="checkbox" name="question_3" value="D"> D) Frequent hardware upgrades to support new standards.</li><li><input type="checkbox" name="question_3" value="E"> E) High tolerance for packet loss in control loops.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, B, C</p>
                <input type="hidden" name="correct_3" value="A, B, C">
            </div>
            
            <div class="multipleChoice question">
                <p>5: Which of the following can be functions of embedded firmware in smart objects? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_4" value="A"> A) Executing communication protocols.</li><li><input type="checkbox" name="question_4" value="B"> B) Handling ADC reads.</li><li><input type="checkbox" name="question_4" value="C"> C) Managing sleep/wake cycles.</li><li><input type="checkbox" name="question_4" value="D"> D) Virtualization of physical hardware.</li><li><input type="checkbox" name="question_4" value="E"> E) Performing edge inference or classification.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, B, C, E</p>
                <input type="hidden" name="correct_4" value="A, B, C, E">
            </div>
            
            <div class="multipleChoice question">
                <p>6: In a smart factory, which element serves as the bridge between operational technology (OT) systems and IT analytics platforms? [Tema 8Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_5" value="A"> A) PLC.</li><li><input type="checkbox" name="question_5" value="B"> B) SCADA.</li><li><input type="checkbox" name="question_5" value="C"> C) Edge gateway.</li><li><input type="checkbox" name="question_5" value="D"> D) ERP.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: C</p>
                <input type="hidden" name="correct_5" value="C">
            </div>
            
            <div class="multipleChoice question">
                <p>7: In a low-power, solar-powered environmental monitoring system with strict energy constraints, which microcontroller configuration is most appropriate? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_6" value="A"> A) A 16-bit RISC microcontroller running at 100% duty cycle.</li><li><input type="checkbox" name="question_6" value="B"> B) An 8-bit AVR microcontroller with sleep modes and disabled ADC during idle.</li><li><input type="checkbox" name="question_6" value="C"> C) A 32-bit ARM Cortex MCU with hardware-accelerated floating-point unit and 200 MHz clock.</li><li><input type="checkbox" name="question_6" value="D"> D) A Raspberry Pi Zero used for sensor polling in periodic loops.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: B</p>
                <input type="hidden" name="correct_6" value="B">
            </div>
            
            <div class="multipleChoice question">
                <p>8: In the CPwE architecture, which elements are found in the cell/area zone (Levels 0-2)? [Tema 8Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_7" value="A"> A) Human-machine interfaces (HMIs).</li><li><input type="checkbox" name="question_7" value="B"> B) Sensors and actuators for process control.</li><li><input type="checkbox" name="question_7" value="C"> C) ERP systems for resource planning.</li><li><input type="checkbox" name="question_7" value="D"> D) SCADA servers and scheduling systems.</li><li><input type="checkbox" name="question_7" value="E"> E) PLCs and DCS controllers.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, B, E</p>
                <input type="hidden" name="correct_7" value="A, B, E">
            </div>
            
            <div class="multipleChoice question">
                <p>9: You are designing a low-power IoT sensor node that must visually indicate three different states (e.g., idle, transmitting, error) with minimal power consumption and only two available GPIO pins. Which output component strategy is most appropriate? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_8" value="A"> A) Three individual monochromatic LEDs.</li><li><input type="checkbox" name="question_8" value="B"> B) An RGB LED driven via charlieplexing.</li><li><input type="checkbox" name="question_8" value="C"> C) A monochrome LCD display with SPI interface.</li><li><input type="checkbox" name="question_8" value="D"> D) An RGB LED in common cathode configuration.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: D</p>
                <input type="hidden" name="correct_8" value="D">
            </div>
            
            <div class="multipleChoice question">
                <p>10: Which core components are part of a typical smart object's internal architecture? [Tema 5Teacher]</p>  <!-- Mostrar el número de pregunta -->
                
                <ul>
                    <li><input type="checkbox" name="question_9" value="A"> A) Application-layer protocol stack.</li><li><input type="checkbox" name="question_9" value="B"> B) Analog signal conditioning stage.</li><li><input type="checkbox" name="question_9" value="C"> C) Human-machine interface (HMI).</li><li><input type="checkbox" name="question_9" value="D"> D) Communication interface.</li><li><input type="checkbox" name="question_9" value="E"> E) Sensing/actuation element.</li>
                </ul>
                <p class="correct-answer">Respuestas correctas: A, B, D, E</p>
                <input type="hidden" name="correct_9" value="A, B, D, E">
            </div>
            
            <input id="submitButton" type="submit" value="Enviar respuestas">
        </form>
        <p id="scoreDisplay"></p>
    </body>
    </html>
    <script>
function submitForm() {
    var form = document.getElementById("testForm");
    form.elements["submitButton"].disabled = true;

    var correctGlobal = 0;
    var incorrectGlobal = 0;
    var unanswered = 0;
    var totalScore = 0;

    var questions = document.getElementsByClassName("singleChoice");

    for (var question of questions) {
        var score = singleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    var questions = document.getElementsByClassName("multipleChoice");

    for (var question of questions) {
        var score = multipleChoice(question);
        if (score === 1) {
            correctGlobal++;
            totalScore += score;
        } else if (isNaN(score)) {
            unanswered++;
        } else {
            incorrectGlobal++;
            totalScore += score;
        }
    }

    console.log("Score out of all questions: " + totalScore);
    console.log("Correct: " + correctGlobal);
    console.log("Incorrect: " + incorrectGlobal);
    console.log("Unanswered: " + unanswered);

    // We calculate the score out of 10
    totalScore = ((totalScore / (correctGlobal + incorrectGlobal + unanswered)) * 10).toFixed(2);

    console.log("Score out of 10: " + totalScore);

    var scoreDisplay = document.getElementById("scoreDisplay");
    scoreDisplay.innerHTML = "Preguntas acertadas: " + correctGlobal + "<br>Preguntas falladas: " + incorrectGlobal + "<br>Puntuación total: " + totalScore + "/10";

    return false;
}
function singleChoice(question) {
    var selectedInput = question.querySelector("input:checked");
    var correctAnswer = question.querySelector(".correct-answer");
    correctAnswer.style.display = "block";

    // We only count the ones with radio buttons
    var options = question.querySelectorAll("input[type=radio]");
    var numOptions = options.length;

    // Disable all radio buttons to prevent changing the answer
    options.forEach(input => input.disabled = true);

    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        correctAnswer.classList.add("correct");
    } else {
        correctAnswer.classList.add("incorrect");
    }

    // We log the number of the question and score

    // If it is correct we return 1
    if (selectedInput && selectedInput.value === correctAnswer.innerHTML.split(":")[1].trim()) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } //If there is no answer we return NaN
    else if (selectedInput === null) {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } //If it is incorrect we return the penalty for random guessing
    else {
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -1/" + (numOptions - 1));
        return -1/(numOptions - 1);
    }
}
function multipleChoice(question) {
    var selectedInputs = question.querySelectorAll("input:checked");

    // Get the correct answer element
    var correctAnswer = question.querySelector(".correct-answer");

    // Extract the correct answers from the hidden input field
    var correctAnswers = question.querySelector("input[name^='correct_']");
    var correctAnswersArray = correctAnswers ? correctAnswers.value.split(",").map(x => x.trim()) : [];

    // Display the correct answers
    question.querySelectorAll(".correct-answer").forEach(x => x.style.display = "block");

    // Get the total number of checkbox options
    var options = question.querySelectorAll("input[type=checkbox]");
    var numOptions = options.length;

    // Disable all checkboxes to prevent changing the answer
    options.forEach(input => input.disabled = true);

    var correct = 0;
    var incorrect = 0;
    var unanswered = 0;

    // Iterate over selected inputs to mark correct/incorrect answers
    for (var selectedInput of selectedInputs) {
        var listItem = selectedInput.closest("li"); // Get the <li> containing the checkbox

        if (listItem) {
            if (correctAnswersArray.includes(selectedInput.value)) {
                // listItem.classList.add("correct"); // Apply class to the entire list item
                correct++;
            } else {
                // listItem.classList.add("incorrect");
                incorrect++;
            }
        }
    }

    // We log the number of the question and score

    // If all the correct answers are selected and no incorrect answers are selected
    // we return 1
    if (correct === correctAnswersArray.length && incorrect === 0) {
        correctAnswer.classList.add("correct");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: 1");
        return 1;
    } // If there are no answers we return NaN
    else if (selectedInputs.length === 0) {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: NaN");
        return NaN;
    } // If there are incorrect answers we return the penalty for random guessing
    else {
        correctAnswer.classList.add("incorrect");
        console.log(question.querySelector("p").innerHTML.split(":")[0] + " - Score: -0.5");
        return -0.5;
    }

}
</script>